--
-- This file is part of TALER
-- Copyright (C) 2014--2022 Taler Systems SA
--
-- TALER is free software; you can redistribute it and/or modify it under the
-- terms of the GNU General Public License as published by the Free Software
-- Foundation; either version 3, or (at your option) any later version.
--
-- TALER is distributed in the hope that it will be useful, but WITHOUT ANY
-- WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
-- A PARTICULAR PURPOSE.  See the GNU General Public License for more details.
--
-- You should have received a copy of the GNU General Public License along with
-- TALER; see the file COPYING.  If not, see <http://www.gnu.org/licenses/>
--

-- Everything in one big transaction
BEGIN;

-- Check patch versioning is in place.
SELECT _v.register_patch('exchange-0002', NULL, NULL);

-------------------- Schema ----------------------------

SET search_path TO exchange;

#include "0002-denominations.sql"
#include "0002-denomination_revocations.sql"
#include "0002-wire_targets.sql"
#include "0002-kyc_alerts.sql"
#include "0002-profit_drains.sql"
#include "0002-legitimization_processes.sql"
#include "0002-legitimization_requirements.sql"
#include "0002-reserves.sql"
#include "0002-reserves_in.sql"
#include "0002-reserves_close.sql"
#include "0002-close_requests.sql"
#include "0002-reserves_open_deposits.sql"
#include "0002-reserves_open_requests.sql"
#include "0002-reserves_out.sql"
#include "0002-known_coins.sql"
#include "0002-refresh_commitments.sql"
#include "0002-refresh_revealed_coins.sql"
#include "0002-refresh_transfer_keys.sql"
#include "0002-deposits.sql"
#include "0002-refunds.sql"
#include "0002-wire_out.sql"
#include "0002-aggregation_transient.sql"
#include "0002-aggregation_tracking.sql"
#include "0002-recoup.sql"
#include "0002-recoup_refresh.sql"
#include "0002-prewire.sql"
#include "0002-cs_nonce_locks.sql"
#include "0002-purse_requests.sql"
#include "0002-purse_merges.sql"
#include "0002-account_merges.sql"
#include "0002-purse_decision.sql"
#include "0002-contracts.sql"
#include "0002-history_requests.sql"
#include "0002-purse_deposits.sql"
#include "0002-wads_in.sql"
#include "0002-wads_in_entries.sql"
#include "0002-wads_out.sql"
#include "0002-wad_out_entries.sql"

COMMIT;
